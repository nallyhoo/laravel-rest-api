# Tutorial: Google Maps Integration

This tutorial explains how to integrate mapping capabilities into your Project Inventory system.

---

## 1. Choosing a Map Provider
While **Google Maps** is the industry standard, **Leaflet.js** (OpenStreetMap) is a powerful, free, and privacy-friendly alternative. In this project, we implemented Leaflet for zero-config setup, but the logic for Google Maps is almost identical.

---

## 2. Database Preparation
To show a map, your entities (Projects/Warehouses) need coordinates.

### Migration
Add `latitude` and `longitude` to your projects table:
```php
Schema::table('projects', function (Blueprint $table) {
    $table->decimal('latitude', 10, 8)->nullable();
    $table->decimal('longitude', 11, 8)->nullable();
    $table->string('address')->nullable();
});
```

---

## 3. Frontend Implementation (Google Maps)

### Step 3.1: Load the Library
Include the Google Maps script in your `<head>`:
```html
<script src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY"></script>
```

### Step 3.2: Create a Map Container
```html
<div id="map" style="height: 400px; width: 100%;"></div>
```

### Step 3.3: Initialize and Update
In your JavaScript, create a function to center the map when a project is selected:

```javascript
let map;
let marker;

function initMap(lat, lng, label) {
    const position = { lat: parseFloat(lat), lng: parseFloat(lng) };
    
    if (!map) {
        map = new google.maps.Map(document.getElementById("map"), {
            zoom: 15,
            center: position,
            styles: [...] // Add premium dark mode styles here
        });
        marker = new google.maps.Marker({
            position: position,
            map: map,
            title: label
        });
    } else {
        map.setCenter(position);
        marker.setPosition(position);
    }
}
```

---

## 4. Why Use a "Dynamic Map"?
In our dashboard, we hide the map section if a project has no coordinates. Once a project is clicked, we:
1.  **Extract coordinates** from the project object.
2.  **Display the container** (`display: block`).
3.  **Animate the map** to the new location.
4.  **Refresh the Marker**: Update the label to the warehouse name.

---

## üõ†Ô∏è 5. Pro Tips
*   **Geocoding**: Use the Google Geocoding API to convert physical addresses (e.g., "Siem Reap, Cambodia") into coordinates automatically when saving a project.
*   **Static Maps**: For emails or slow connections, use Google's Static Maps API to show a simple image instead of a heavy interactive map.
*   **Custom Icons**: Use custom SVG icons for your warehouse markers to match your brand's aesthetics.

---

*Generated by Antigravity AI Assistant*
