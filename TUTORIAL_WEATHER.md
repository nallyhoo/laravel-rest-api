# Tutorial: Weather API Integration

This tutorial explains how to add real-time weather tracking to your inventory projects using the **Open-Meteo API**.

---

## 1. Why Open-Meteo?
For this project, we used **Open-Meteo** because:
- **No API Key Required**: Perfect for development and quick prototypes.
- **Detailed Data**: Provides temperature, weather codes, and wind speeds.
- **Global Coverage**: Works for any latitude/longitude coordinates.

---

## 2. Backend Proxy Route
Like the currency switcher, we fetch weather via a Laravel proxy to handle data consistently.

**File: `routes/api.php`**
```php
Route::get('/weather', function (Request $request) {
    $lat = $request->query('lat');
    $lng = $request->query('lng');
    
    // Fetch from external service
    return Http::get("https://api.open-meteo.com/v1/forecast", [
        'latitude' => $lat,
        'longitude' => $lng,
        'current_weather' => true
    ])->json();
});
```

---

## 3. Frontend Implementation

### Step 3.1: The Weather Widget
In `dashboard.blade.php`, we add a clean, glassmorphism container to show the stats.

```html
<div id="weather-widget">
    <div id="weather-icon"></div>
    <div>
        <div id="weather-temp">--Â°C</div>
        <div id="weather-desc">Loading...</div>
    </div>
</div>
```

### Step 3.2: Mapping Weather Codes
The API returns a `weathercode` (e.g., `0` for clear sky). We use a mapping function to convert these numbers into human-readable text and emojis:

```javascript
function getWeatherInfo(code) {
    const mapping = {
        0: { text: 'Clear sky', icon: 'â˜€ï¸' },
        61: { text: 'Rainy', icon: 'ğŸŒ§ï¸' },
        // ... more codes
    };
    return mapping[code] || { text: 'Stable', icon: 'ğŸŒ¡ï¸' };
}
```

### Step 3.3: Dynamic Updates
Every time you **select a project**, the dashboard:
1.  Grabs the coordinates.
2.  Calls the `/api/weather` endpoint.
3.  Updates the temperature and icon immediately.

---

## ğŸ› ï¸ 4. Advanced Production Ideas
- **Caching**: Weather doesn't change every second. Cache the result for 30 minutes in Laravel to improve speed.
- **Icons**: Instead of emojis, use professional animated SVG icons (like Skycons).
- **Alerts**: If the weather code indicates a "Thunderstorm" or "Heavy Rain", show a notification to alert warehouse managers of potential shipping delays.

---

*Generated by Antigravity AI Assistant*
